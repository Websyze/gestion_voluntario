<!DOCTYPE html>
<html lang="es">
  <head>
    <meta charset="utf-8" />
    <meta content="width=device-width, initial-scale=1.0" name="viewport" />
    <title>Casos de Desastres</title>
    <script src="https://cdn.tailwindcss.com?plugins=forms,container-queries"></script>
    <link
      href="https://fonts.googleapis.com/css2?family=Public+Sans:wght@400;500;700;900&display=swap"
      rel="stylesheet"
    />
    <link
      href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined"
      rel="stylesheet"
    />
    <script>
      tailwind.config = {
        darkMode: "class",
        theme: {
          extend: {
            colors: {
              primary: "#005A9C",
              "background-light": "#F4F4F4",
              "background-dark": "#101c22",
              "accent-orange": "#FF7A00",
              "accent-red": "#E63946",
              "accent-green": "#2A9D8F",
              "accent-yellow": "#F4A261",
            },
            fontFamily: {
              display: ["Public Sans"],
            },
            borderRadius: {
              DEFAULT: "0.25rem",
              lg: "0.5rem",
              xl: "0.75rem",
              full: "9999px",
            },
          },
        },
      };
    </script>
    <style>
      .material-symbols-outlined {
        font-variation-settings: "FILL" 0, "wght" 400, "GRAD" 0, "opsz" 24;
      }

      @keyframes fade-in {
        from {
          opacity: 0;
          transform: translateY(10px);
        }
        to {
          opacity: 1;
          transform: translateY(0);
        }
      }

      .card-hover {
        transition: all 0.3s ease;
      }

      .card-hover:hover {
        transform: translateY(-4px);
        box-shadow: 0 20px 25px -5px rgba(0, 0, 0, 0.1),
          0 10px 10px -5px rgba(0, 0, 0, 0.04);
      }
    </style>
  </head>
  <body class="bg-background-light dark:bg-background-dark font-display">
    <header
        class="bg-background-light dark:bg-background-dark border-b border-gray-200 dark:border-gray-700 px-4 sm:px-6 lg:px-8">
        <div class="container mx-auto flex items-center justify-between whitespace-nowrap h-16">
          <div class="flex items-center gap-4 text-heading-light dark:text-heading-dark">
            <span class="material-symbols-outlined text-primary text-3xl">volunteer_activism</span>
            <h2 class="text-xl font-bold leading-tight tracking-[-0.015em]">Plataforma de Voluntariado</h2>
          </div>
          <nav class="hidden md:flex items-center gap-8">
            <a class="text-sm font-medium leading-normal text-primary dark:text-secondary"
              href="proyectos.html">Casos de desastre</a>
            <a class="text-sm font-medium leading-normal hover:text-primary dark:hover:text-secondary"
              href="organizaciones.html">Organizaciones</a>
            <a class="text-sm font-medium leading-normal hover:text-primary dark:hover:text-secondary"
              href="capacitacion.html">Capacitaciones</a>
            <a class="text-sm font-medium leading-normal hover:text-primary dark:hover:text-secondary"
              href="perfil.html">Mi Perfil</a>
          </nav>
          <div class="flex items-center gap-4">
            <button
              class="flex max-w-[480px] cursor-pointer items-center justify-center overflow-hidden rounded-full h-10 w-10 bg-gray-100 dark:bg-gray-800 text-text-light dark:text-text-dark hover:bg-gray-200 dark:hover:bg-gray-700">
              <span class="material-symbols-outlined">settings</span>
            </button>
            <button id="notifBtn"
              class="flex max-w-[480px] cursor-pointer items-center justify-center overflow-hidden rounded-full h-10 w-10 bg-gray-100 dark:bg-gray-800 text-text-light dark:text-text-dark hover:bg-gray-200 dark:hover:bg-gray-700 relative">
              <span class="material-symbols-outlined">notifications</span>
              <span class="absolute top-1 right-1 w-2 h-2 bg-red-500 rounded-full"></span>
            </button>
            <div onclick="window.location.href='perfil.html'"
              class="bg-center bg-no-repeat aspect-square bg-cover rounded-full size-10 cursor-pointer hover:ring-2 hover:ring-primary transition-all"
              data-alt="User profile picture"
              style='background-image: url("https://lh3.googleusercontent.com/aida-public/AB6AXuDmbF7_HrmSigUZBAsnaOpRRXw8BZ-5sAYkzQ5o4AxXple2TJ_W45gngFRafRfc33dhsWL7-aGg1_VxwVRqXbqQYVvB1WjXb-AgCoZET1js5hI4IebohZuhUFH-MqQP2AzA_BqBzhqjOZirsLp86ifMnquTbK1j2fsPvJxwQcAoFMzcDEQKJk8GWu4NXYGHLMuUIolUq1-_32jDiogWlSPSknhALsRNJPu5jvyFLmjFVpwymCuCq-OEYwhT8ZJ99R2krnKuLYZlbret");'>
            </div>
          </div>
        </div>
      </header>

      <main class="flex-1 px-4 py-8 lg:px-10 mx-auto max-w-7xl w-full">
        <div class="mb-8">
          <h1
            class="text-gray-900 dark:text-white text-4xl font-black leading-tight tracking-[-0.033em] mb-2"
          >
            Casos de Desastres Activos
          </h1>
          <p class="text-gray-600 dark:text-gray-400 text-lg">
            Encuentra oportunidades para ayudar a comunidades que necesitan tu
            apoyo
          </p>
        </div>

        <!-- Barra de búsqueda -->
        <div class="mb-6">
          <div class="relative">
            <span class="material-symbols-outlined absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400">search</span>
            <input 
              id="searchInput"
              type="text" 
              placeholder="Buscar casos por ubicación, tipo o descripción..."
              class="w-full pl-10 pr-4 py-3 rounded-lg border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 text-gray-900 dark:text-white focus:ring-2 focus:ring-primary focus:border-transparent"
            />
          </div>
        </div>

        <!-- Filtros -->
        <div class="mb-6 flex flex-wrap gap-3">
          <button
            class="filter-btn active px-4 py-2 rounded-lg bg-primary text-white font-medium text-sm"
            data-filter="all"
          >
            Todos
          </button>
          <button
            class="filter-btn px-4 py-2 rounded-lg bg-white dark:bg-gray-800 text-gray-700 dark:text-gray-300 font-medium text-sm border border-gray-300 dark:border-gray-600"
            data-filter="urgente"
          >
            Urgentes
          </button>
          <button
            class="filter-btn px-4 py-2 rounded-lg bg-white dark:bg-gray-800 text-gray-700 dark:text-gray-300 font-medium text-sm border border-gray-300 dark:border-gray-600"
            data-filter="inundacion"
          >
            Inundaciones
          </button>
          <button
            class="filter-btn px-4 py-2 rounded-lg bg-white dark:bg-gray-800 text-gray-700 dark:text-gray-300 font-medium text-sm border border-gray-300 dark:border-gray-600"
            data-filter="terremoto"
          >
            Terremotos
          </button>
          <button
            class="filter-btn px-4 py-2 rounded-lg bg-white dark:bg-gray-800 text-gray-700 dark:text-gray-300 font-medium text-sm border border-gray-300 dark:border-gray-600"
            data-filter="incendio"
          >
            Incendios
          </button>
          <button
            class="filter-btn px-4 py-2 rounded-lg bg-white dark:bg-gray-800 text-gray-700 dark:text-gray-300 font-medium text-sm border border-gray-300 dark:border-gray-600"
            data-filter="huracan"
          >
            Huracanes
          </button>
        </div>

        <!-- Grid de Casos -->
        <div
          id="casesGrid"
          class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6"
        >
          <!-- Los casos se generarán dinámicamente -->
        </div>
      </main>

      <footer
        class="bg-white dark:bg-gray-800 mt-12 border-t border-gray-200 dark:border-gray-700"
      >
        <div class="max-w-7xl mx-auto py-8 px-4 sm:px-6 lg:px-8">
          <div class="flex justify-between items-center">
            <p class="text-center text-sm text-gray-500 dark:text-gray-400">
              © 2024 AyudaActiva. Todos los derechos reservados.
            </p>
            <div class="flex space-x-6">
              <a
                class="text-gray-500 dark:text-gray-400 hover:text-gray-900 dark:hover:text-white"
                href="#"
                >Contacto</a
              >
              <a
                class="text-gray-500 dark:text-gray-400 hover:text-gray-900 dark:hover:text-white"
                href="#"
                >Términos de Servicio</a
              >
              <a
                class="text-gray-500 dark:text-gray-400 hover:text-gray-900 dark:hover:text-white"
                href="#"
                >Política de Privacidad</a
              >
            </div>
          </div>
        </div>
      </footer>
    </div>

    <script>
      const disasters = [
        {
          id: 1,
          title: "Inundaciones en la Región Sur",
          type: "Inundación",
          typeTag: "inundacion",
          location: "Región Sur",
          urgency: "Alta",
          urgencyColor: "accent-red",
          date: "24/05/2024",
          organization: "Cruz Roja",
          volunteers: 152,
          description:
            "Fuertes lluvias han provocado inundaciones masivas afectando a miles de familias.",
          image:
            "https://images.unsplash.com/photo-1547683905-f686c993aae5?w=800&q=80",
          resources: "5000L agua / 2000kg alimentos",
          progress: 24,
        },
        {
          id: 2,
          title: "Terremoto en Zona Central",
          type: "Terremoto",
          typeTag: "terremoto",
          location: "Zona Central",
          urgency: "Crítica",
          urgencyColor: "accent-red",
          date: "20/05/2024",
          organization: "Protección Civil",
          volunteers: 287,
          description:
            "Sismo de 7.2 grados causa daños severos en infraestructura y viviendas.",
          image:
            "https://images.unsplash.com/photo-1511632765486-a01980e01a18?w=800&q=80",
          resources: "Personal médico / Refugios temporales",
          progress: 45,
        },
        {
          id: 3,
          title: "Incendio Forestal en Sierra Norte",
          type: "Incendio Forestal",
          typeTag: "incendio",
          location: "Sierra Norte",
          urgency: "Alta",
          urgencyColor: "accent-red",
          date: "18/05/2024",
          organization: "Bomberos Forestales",
          volunteers: 98,
          description:
            "Múltiples focos activos amenazan comunidades rurales y reservas naturales.",
          image:
            "https://images.unsplash.com/photo-1506905925346-21bda4d32df4?w=800&q=80",
          resources: "Equipo contra incendios / Agua",
          progress: 35,
        },
        {
          id: 4,
          title: "Huracán en Costa Este",
          type: "Huracán",
          typeTag: "huracan",
          location: "Costa Este",
          urgency: "Media",
          urgencyColor: "accent-orange",
          date: "15/05/2024",
          organization: "Defensa Civil",
          volunteers: 203,
          description:
            "Huracán categoría 3 se aproxima, evacuaciones preventivas en marcha.",
          image:
            "https://images.unsplash.com/photo-1527482797697-8795b05a13fe?w=800&q=80",
          resources: "Refugios / Alimentos no perecederos",
          progress: 62,
        },
        {
          id: 5,
          title: "Deslizamiento en Valle Alto",
          type: "Deslizamiento",
          typeTag: "deslizamiento",
          location: "Valle Alto",
          urgency: "Alta",
          urgencyColor: "accent-red",
          date: "22/05/2024",
          organization: "Rescate Nacional",
          volunteers: 134,
          description:
            "Lluvias intensas provocan deslizamientos que bloquean carreteras principales.",
          image:
            "https://images.unsplash.com/photo-1611996575749-79a3a250f948?w=800&q=80",
          resources: "Maquinaria pesada / Personal de rescate",
          progress: 28,
        },
        {
          id: 6,
          title: "Sequía en Región Agrícola",
          type: "Sequía",
          typeTag: "sequia",
          location: "Región Agrícola",
          urgency: "Media",
          urgencyColor: "accent-orange",
          date: "01/05/2024",
          organization: "Ministerio de Agricultura",
          volunteers: 76,
          description:
            "Prolongada sequía afecta cultivos y suministro de agua para comunidades rurales.",
          image:
            "https://images.unsplash.com/photo-1574943320219-553eb213f72d?w=800&q=80",
          resources: "Sistemas de riego / Agua potable",
          progress: 51,
        },
        {
          id: 7,
          title: "Inundaciones Urbanas Ciudad Norte",
          type: "Inundación",
          typeTag: "inundacion",
          location: "Ciudad Norte",
          urgency: "Baja",
          urgencyColor: "accent-yellow",
          date: "10/05/2024",
          organization: "Municipalidad",
          volunteers: 45,
          description:
            "Sistema de drenaje saturado causa inundaciones en zonas bajas de la ciudad.",
          image:
            "https://images.unsplash.com/photo-1547683905-f686c993aae5?w=800&q=80",
          resources: "Bombas de agua / Limpieza",
          progress: 78,
        },
        {
          id: 8,
          title: "Tornado en Llanuras del Oeste",
          type: "Tornado",
          typeTag: "tornado",
          location: "Llanuras del Oeste",
          urgency: "Alta",
          urgencyColor: "accent-red",
          date: "19/05/2024",
          organization: "Emergencias Regionales",
          volunteers: 167,
          description:
            "Tornados destruyen infraestructura agrícola y residencial en múltiples comunidades.",
          image:
            "https://images.unsplash.com/photo-1507239566279-335ac8418bad?w=800&q=80",
          resources: "Materiales de construcción / Refugio",
          progress: 33,
        },
        {
          id: 9,
          title: "Tsunami en Zona Costera Sur",
          type: "Tsunami",
          typeTag: "tsunami",
          location: "Zona Costera Sur",
          urgency: "Crítica",
          urgencyColor: "accent-red",
          date: "23/05/2024",
          organization: "Cruz Roja Internacional",
          volunteers: 312,
          description:
            "Alerta de tsunami tras sismo submarino, evacuaciones masivas en proceso.",
          image:
            "https://images.unsplash.com/photo-1505142468610-359e7d316be0?w=800&q=80",
          resources: "Evacuación / Búsqueda y rescate",
          progress: 15,
        },
        {
          id: 10,
          title: "Helada Severa en Región Montañosa",
          type: "Helada",
          typeTag: "helada",
          location: "Región Montañosa",
          urgency: "Media",
          urgencyColor: "accent-orange",
          date: "12/05/2024",
          organization: "Protección Civil",
          volunteers: 89,
          description:
            "Temperaturas extremadamente bajas afectan a comunidades aisladas en las montañas.",
          image:
            "https://images.unsplash.com/photo-1483664852095-d6cc6870702d?w=800&q=80",
          resources: "Ropa de abrigo / Calefacción",
          progress: 56,
        },
        {
          id: 11,
          title: "Erupción Volcánica en Monte Sur",
          type: "Erupción Volcánica",
          typeTag: "volcan",
          location: "Monte Sur",
          urgency: "Crítica",
          urgencyColor: "accent-red",
          date: "21/05/2024",
          organization: "Instituto Geológico",
          volunteers: 245,
          description:
            "Actividad volcánica intensa obliga a evacuación de poblados cercanos.",
          image:
            "https://images.unsplash.com/photo-1548625149-fc4a29cf7092?w=800&q=80",
          resources: "Máscaras respiratorias / Evacuación",
          progress: 41,
        },
        {
          id: 12,
          title: "Granizada Extrema en Valle Central",
          type: "Granizada",
          typeTag: "granizo",
          location: "Valle Central",
          urgency: "Baja",
          urgencyColor: "accent-yellow",
          date: "14/05/2024",
          organization: "Defensa Civil Local",
          volunteers: 52,
          description:
            "Granizo de gran tamaño daña cultivos y vehículos en la región agrícola.",
          image:
            "https://images.unsplash.com/photo-1419242902214-272b3f66ee7a?w=800&q=80",
          resources: "Lonas protectoras / Evaluación de daños",
          progress: 69,
        },
      ];
      function createDisasterCard(disaster) {
        return `
    <div class="disaster-card card-hover bg-white dark:bg-gray-800 rounded-xl shadow overflow-hidden" 
        data-type="${disaster.typeTag}" 
        data-urgency="${disaster.urgency.toLowerCase()}">
      <div class="relative h-48 bg-cover bg-center" style="background-image: url('${
        disaster.image
      }')">
        <div class="absolute top-3 right-3 px-3 py-1 rounded-lg bg-${
          disaster.urgencyColor
        } text-white text-xs font-bold">
          ${disaster.urgency}
        </div>
      </div>
      <div class="p-5">
        <h3 class="text-gray-900 dark:text-white text-xl font-bold mb-2">${
          disaster.title
        }</h3>
        <p class="text-gray-600 dark:text-gray-300 text-sm mb-4 line-clamp-2">${
          disaster.description
        }</p>
        
        <div class="space-y-2 mb-4">
          <div class="flex items-center gap-2 text-sm text-gray-600 dark:text-gray-400">
            <span class="material-symbols-outlined text-primary text-lg">location_on</span>
            <span>${disaster.location}</span>
          </div>
          <div class="flex items-center gap-2 text-sm text-gray-600 dark:text-gray-400">
            <span class="material-symbols-outlined text-primary text-lg">corporate_fare</span>
            <span>${disaster.organization}</span>
          </div>
          <div class="flex items-center gap-2 text-sm text-gray-600 dark:text-gray-400">
            <span class="material-symbols-outlined text-primary text-lg">groups</span>
            <span><strong>${disaster.volunteers}</strong> voluntarios</span>
          </div>
        </div>
        
        <div class="mb-4">
          <div class="flex justify-between text-xs text-gray-600 dark:text-gray-400 mb-1">
            <span>Progreso de recursos</span>
            <span>${disaster.progress}%</span>
          </div>
          <div class="w-full bg-gray-200 dark:bg-gray-700 rounded-full h-2">
            <div class="bg-accent-green rounded-full h-2" style="width: ${
              disaster.progress
            }%"></div>
          </div>
        </div>
        
        <button onclick="window.location.href='perfil_casos_desastres.html?id=${
          disaster.id
        }'" 
                class="w-full py-3 bg-primary text-white rounded-lg font-bold text-sm hover:bg-blue-700 transition-colors">
          Ver Detalles y Ayudar
        </button>
      </div>
    </div>
  `;
      }

      function renderDisasters(filteredDisasters) {
        const grid = document.getElementById("casesGrid");
        grid.innerHTML = filteredDisasters.map(createDisasterCard).join("");
      }

      // Filtros
      document.querySelectorAll(".filter-btn").forEach((btn) => {
        btn.addEventListener("click", function () {
          document.querySelectorAll(".filter-btn").forEach((b) => {
            b.classList.remove("active", "bg-primary", "text-white");
            b.classList.add(
              "bg-white",
              "dark:bg-gray-800",
              "text-gray-700",
              "dark:text-gray-300",
              "border",
              "border-gray-300",
              "dark:border-gray-600"
            );
          });

          this.classList.add("active", "bg-primary", "text-white");
          this.classList.remove(
            "bg-white",
            "dark:bg-gray-800",
            "text-gray-700",
            "dark:text-gray-300",
            "border",
            "border-gray-300",
            "dark:border-gray-600"
          );

          const filter = this.dataset.filter;
          let filtered = disasters;

          if (filter === "urgente") {
            filtered = disasters.filter(
              (d) => d.urgency === "Alta" || d.urgency === "Crítica"
            );
          } else if (filter !== "all") {
            filtered = disasters.filter((d) => d.typeTag === filter);
          }

          renderDisasters(filtered);
        });
      });

      // Búsqueda
      document
        .getElementById("searchInput")
        .addEventListener("input", function (e) {
          const searchTerm = e.target.value.toLowerCase();
          const filtered = disasters.filter(
            (d) =>
              d.title.toLowerCase().includes(searchTerm) ||
              d.location.toLowerCase().includes(searchTerm) ||
              d.type.toLowerCase().includes(searchTerm) ||
              d.description.toLowerCase().includes(searchTerm)
          );
          renderDisasters(filtered);
        });

      // Renderizar todos los desastres al cargar
      renderDisasters(disasters);
    </script>
  </body>
</html>